{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 80, "column": 0}, "map": {"version":3,"sources":["file:///root/CODING/tubes-siweb/src/app/lib/data.ts"],"sourcesContent":["import postgres from 'postgres';\nimport {\n  CustomerField,\n  CustomersTableType,\n  InvoiceForm,\n  InvoicesTable,\n  LatestInvoiceRaw,\n  Revenue,\n} from './definitions';\nimport { formatCurrency } from './utils';\n\nconst sql = postgres(process.env.POSTGRES_URL!, { ssl: 'require' });\n\nexport async function fetchProduk(id: string) {\n  try {\n    const result = await sql<{\n      id_produk: number;\n      nama_produk: string;\n      harga_produk: number;\n    }[]>`\n      SELECT id_produk, nama_produk, harga_produk \n      FROM produk \n      WHERE id_produk = ${id}\n      LIMIT 1\n    `;\n\n    return result[0]; \n  } catch (error) {\n    console.error('Database Error:', error);\n    throw new Error('Failed to fetch produk by ID.');\n  }\n  \n}\nexport async function fetchAllProduk() {\n  try {\n    const result = await sql`\n      SELECT id_produk, nama_produk, harga_produk \n      FROM produk \n      ORDER BY id_produk ASC\n    `;\n    return result;\n  } catch (error) {\n    console.error('Database Error:', error);\n    throw new Error('Failed to fetch all produk.');\n  }\n}\n\nexport async function fetchTransaksi() {\n  await new Promise((r) => setTimeout(r, 1500));\n  try {\nconst transaksi = await sql<{\n  id_transaksi: number;\n  id_produk: number;\n  nama_pembeli: string;\n  tanggal_transaksi: string;\n  total_harga: number;\n  quantity: number;\n}[]>`\n  SELECT id_transaksi, id_produk, nama_pembeli, tanggal_transaksi, total_harga, quantity\n  FROM transaksi\n  ORDER BY tanggal_transaksi ASC\n`;\n    return transaksi;\n  } catch (error) {\n    console.error('Database Error:', error);\n    throw new Error('Failed to fetch transaksi.');\n  }\n}\n\nexport async function fetchAnalytics() {\n  await new Promise((resolve) => setTimeout(resolve, 1500)); \n  try {\n    // Query 1: total produk\n    const totalProdukRes = await sql`SELECT COUNT(*) FROM produk`;\n    const totalProduk = Number(totalProdukRes[0].count);\n\n    // Query 2: total revenue (jumlah total_harga dari transaksi)\n    const totalRevenueRes = await sql`SELECT SUM(total_harga) FROM transaksi`;\n    const totalRevenue = Number(totalRevenueRes[0].sum || 0);\n\n    // Query 3: produk paling sering muncul di transaksi\n    const mostSoldRes = await sql`\n      SELECT p.nama_produk, COUNT(t.id_produk) AS jumlah_terjual\n      FROM transaksi t\n      JOIN produk p ON t.id_produk = p.id_produk\n      GROUP BY p.nama_produk\n      ORDER BY jumlah_terjual DESC\n      LIMIT 1;\n    `;\n    const mostSold = mostSoldRes[0];\n\n    return {\n      totalProduk,\n      totalRevenue,\n      mostSold: mostSold?.nama_produk || '-',\n      jumlahTerjual: mostSold?.jumlah_terjual || 0,\n    };\n  } catch (err) {\n    console.error('DB Error (analytics):', err);\n    throw new Error('Failed to fetch analytics data.');\n  }\n}\n\nexport async function fetchPenjualanProduk() {\n  await new Promise((resolve) => setTimeout(resolve, 2000)); \n  try {\n    const data = await sql<{ nama_produk: string; jumlah_terjual: number }[]>`\n      SELECT p.nama_produk, COUNT(t.id_produk) AS jumlah_terjual\n      FROM transaksi t\n      JOIN produk p ON t.id_produk = p.id_produk\n      GROUP BY p.nama_produk\n      ORDER BY jumlah_terjual DESC\n    `;\n    return data;\n  } catch (err) {\n    console.error('DB Error (grafik):', err);\n    throw new Error('Gagal ambil data grafik penjualan.');\n  }\n}\n\nexport async function fetchProdukWithFoto() {\n  const produk = await sql<{\n    id_produk: number;\n    nama_produk: string;\n    harga_produk: number;\n    foto: string;\n  }[]>`SELECT * FROM menu ORDER BY id_produk ASC`;\n  return produk;\n}\n\n\n// Fungsi untuk menambah item ke keranjang (cart)\nexport async function addToCart(cartData: {\n  id_produk: number;\n  nama_produk: string;\n  quantity: number;\n  harga_produk: number;\n  total_harga: number;\n}) {\n  try {\n    const result = await sql`\n      INSERT INTO cart (id_produk, nama_produk, quantity, harga_produk, total_harga, created_at)\n      VALUES (${cartData.id_produk}, ${cartData.nama_produk}, ${cartData.quantity}, ${cartData.harga_produk}, ${cartData.total_harga}, NOW())\n      RETURNING *\n    `;\n    return result[0];\n  } catch (error) {\n    console.error('Database Error:', error);\n    throw new Error('Failed to add to cart');\n  }\n}\n\n// Fungsi untuk membuat transaksi langsung\nexport async function createTransaksi(transaksiData: {\n  id_produk: number;\n  nama_pembeli: string;\n  quantity: number;\n  total_harga: number;\n}) {\n  try {\n    const result = await sql`\n      INSERT INTO transaksi (id_produk, nama_pembeli, tanggal_transaksi, total_harga, quantity)\n      VALUES (${transaksiData.id_produk}, ${transaksiData.nama_pembeli}, NOW(), ${transaksiData.total_harga}, ${transaksiData.quantity})\n      RETURNING *\n    `;\n    return result[0];\n  } catch (error) {\n    console.error('Database Error:', error);\n    throw new Error('Failed to create transaction');\n  }\n}\n\n// Fungsi untuk mengambil cart items\nexport async function fetchCartItems() {\n  try {\n    const result = await sql`\n      SELECT c.*, m.nama_produk, m.foto \n      FROM cart c\n      JOIN menu m ON c.id_produk = m.id_produk\n      ORDER BY c.created_at DESC\n    `;\n    return result;\n  } catch (error) {\n    console.error('Database Error:', error);\n    throw new Error('Failed to fetch cart items');\n  }\n}\n\n"],"names":[],"mappings":";;;;;;;;;;;AAAA;;AAWA,MAAM,MAAM,CAAA,GAAA,wIAAA,CAAA,UAAQ,AAAD,EAAE,QAAQ,GAAG,CAAC,YAAY,EAAG;IAAE,KAAK;AAAU;AAE1D,eAAe,YAAY,EAAU;IAC1C,IAAI;QACF,MAAM,SAAS,MAAM,GAIjB,CAAC;;;wBAGe,EAAE,GAAG;;IAEzB,CAAC;QAED,OAAO,MAAM,CAAC,EAAE;IAClB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,mBAAmB;QACjC,MAAM,IAAI,MAAM;IAClB;AAEF;AACO,eAAe;IACpB,IAAI;QACF,MAAM,SAAS,MAAM,GAAG,CAAC;;;;IAIzB,CAAC;QACD,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,mBAAmB;QACjC,MAAM,IAAI,MAAM;IAClB;AACF;AAEO,eAAe;IACpB,MAAM,IAAI,QAAQ,CAAC,IAAM,WAAW,GAAG;IACvC,IAAI;QACN,MAAM,YAAY,MAAM,GAOpB,CAAC;;;;AAIL,CAAC;QACG,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,mBAAmB;QACjC,MAAM,IAAI,MAAM;IAClB;AACF;AAEO,eAAe;IACpB,MAAM,IAAI,QAAQ,CAAC,UAAY,WAAW,SAAS;IACnD,IAAI;QACF,wBAAwB;QACxB,MAAM,iBAAiB,MAAM,GAAG,CAAC,2BAA2B,CAAC;QAC7D,MAAM,cAAc,OAAO,cAAc,CAAC,EAAE,CAAC,KAAK;QAElD,6DAA6D;QAC7D,MAAM,kBAAkB,MAAM,GAAG,CAAC,sCAAsC,CAAC;QACzE,MAAM,eAAe,OAAO,eAAe,CAAC,EAAE,CAAC,GAAG,IAAI;QAEtD,oDAAoD;QACpD,MAAM,cAAc,MAAM,GAAG,CAAC;;;;;;;IAO9B,CAAC;QACD,MAAM,WAAW,WAAW,CAAC,EAAE;QAE/B,OAAO;YACL;YACA;YACA,UAAU,UAAU,eAAe;YACnC,eAAe,UAAU,kBAAkB;QAC7C;IACF,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,yBAAyB;QACvC,MAAM,IAAI,MAAM;IAClB;AACF;AAEO,eAAe;IACpB,MAAM,IAAI,QAAQ,CAAC,UAAY,WAAW,SAAS;IACnD,IAAI;QACF,MAAM,OAAO,MAAM,GAAsD,CAAC;;;;;;IAM1E,CAAC;QACD,OAAO;IACT,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,sBAAsB;QACpC,MAAM,IAAI,MAAM;IAClB;AACF;AAEO,eAAe;IACpB,MAAM,SAAS,MAAM,GAKjB,CAAC,yCAAyC,CAAC;IAC/C,OAAO;AACT;AAIO,eAAe,UAAU,QAM/B;IACC,IAAI;QACF,MAAM,SAAS,MAAM,GAAG,CAAC;;cAEf,EAAE,SAAS,SAAS,CAAC,EAAE,EAAE,SAAS,WAAW,CAAC,EAAE,EAAE,SAAS,QAAQ,CAAC,EAAE,EAAE,SAAS,YAAY,CAAC,EAAE,EAAE,SAAS,WAAW,CAAC;;IAEjI,CAAC;QACD,OAAO,MAAM,CAAC,EAAE;IAClB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,mBAAmB;QACjC,MAAM,IAAI,MAAM;IAClB;AACF;AAGO,eAAe,gBAAgB,aAKrC;IACC,IAAI;QACF,MAAM,SAAS,MAAM,GAAG,CAAC;;cAEf,EAAE,cAAc,SAAS,CAAC,EAAE,EAAE,cAAc,YAAY,CAAC,SAAS,EAAE,cAAc,WAAW,CAAC,EAAE,EAAE,cAAc,QAAQ,CAAC;;IAEnI,CAAC;QACD,OAAO,MAAM,CAAC,EAAE;IAClB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,mBAAmB;QACjC,MAAM,IAAI,MAAM;IAClB;AACF;AAGO,eAAe;IACpB,IAAI;QACF,MAAM,SAAS,MAAM,GAAG,CAAC;;;;;IAKzB,CAAC;QACD,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,mBAAmB;QACjC,MAAM,IAAI,MAAM;IAClB;AACF","debugId":null}},
    {"offset": {"line": 243, "column": 0}, "map": {"version":3,"sources":["file:///root/CODING/tubes-siweb/src/app/verif/menu/menu-client.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/verif/menu/menu-client.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/verif/menu/menu-client.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAsS,GACnU,oEACA","debugId":null}},
    {"offset": {"line": 257, "column": 0}, "map": {"version":3,"sources":["file:///root/CODING/tubes-siweb/src/app/verif/menu/menu-client.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/verif/menu/menu-client.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/verif/menu/menu-client.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAkR,GAC/S,gDACA","debugId":null}},
    {"offset": {"line": 271, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 281, "column": 0}, "map": {"version":3,"sources":["file:///root/CODING/tubes-siweb/src/app/verif/menu/page.tsx"],"sourcesContent":["import { fetchProdukWithFoto } from \"@/app/lib/data\";\r\nimport { alegreya, nosifer } from \"@/app/ui/fonts\";\r\nimport Navbar from \"@/app/verif/navbar\";\r\nimport MenuClient from \"./menu-client\";\r\n\r\nexport default async function MenuPage({\r\n  searchParams,\r\n}: {\r\n  searchParams: Record<string, string | string[] | undefined>;\r\n}) {\r\n  let produkList: any[] = [];\r\n  let error: string | null = null;\r\n\r\n  try {\r\n    produkList = await fetchProdukWithFoto();\r\n  } catch (err) {\r\n    console.error(\"Error fetching products:\", err);\r\n    error = \"Gagal memuat menu dari database. Silakan coba lagi.\";\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <main className=\"min-h-screen bg-gradient-to-r from-red-950 to-black text-white\">\r\n        <Navbar />\r\n        <div className=\"flex items-center justify-center py-20\">\r\n          <div className=\"text-center\">\r\n            <p className={`${alegreya.className} text-xl text-red-300 mb-4`}>\r\n              {error}\r\n            </p>\r\n            <form>\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => window.location.reload()}\r\n                className=\"bg-[#9b684c] text-white py-2 px-6 rounded-full hover:bg-[#7d543d] transition-colors\"\r\n              >\r\n                Coba Lagi\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    );\r\n  }\r\n\r\n  const currentPage = parseInt(searchParams.page as string) || 1;\r\n  const itemsPerPage = 8;\r\n  const totalItems = produkList.length;\r\n  const totalPages = Math.ceil(totalItems / itemsPerPage);\r\n\r\n  const paginatedProdukList = produkList.slice(\r\n    (currentPage - 1) * itemsPerPage,\r\n    currentPage * itemsPerPage\r\n  );\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-gradient-to-r from-red-950 to-black text-white\">\r\n      <Navbar />\r\n\r\n      <section className=\"text-center py-20 px-4\">\r\n        <h1\r\n          className={`${nosifer.className} text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-extrabold tracking-wide text-[#F8E4BE] mb-6`}\r\n        >\r\n          MENU\r\n        </h1>\r\n\r\n        <p\r\n          className={`${alegreya.className} text-lg sm:text-xl md:text-2xl text-[#f5deb3]/80 mb-12 max-w-4xl mx-auto`}\r\n        >\r\n          Jelajahi semua rasa kopi bersama kami. Selalu ada secangkir kopi baru\r\n          yang layak dicoba.\r\n        </p>\r\n\r\n        {paginatedProdukList.length === 0 ? (\r\n          <p className={`${alegreya.className} text-xl text-[#f5deb3]/60`}>\r\n            Belum ada menu tersedia di database.\r\n          </p>\r\n        ) : (\r\n          <MenuClient produkList={paginatedProdukList} />\r\n        )}\r\n\r\n        {/* Pagination */}\r\n        {/* Pagination */}\r\n        {totalPages > 1 && (\r\n          <div className=\"mt-12 flex flex-col items-center justify-center\">\r\n            <div className=\"text-sm text-gray-200 mb-2\">\r\n              Menampilkan{\" \"}\r\n              <span className=\"font-semibold\">\r\n                {(currentPage - 1) * itemsPerPage + 1}\r\n              </span>{\" \"}\r\n              sampai{\" \"}\r\n              <span className=\"font-semibold\">\r\n                {Math.min(currentPage * itemsPerPage, totalItems)}\r\n              </span>{\" \"}\r\n              dari <span className=\"font-semibold\">{totalItems}</span> menu\r\n            </div>\r\n\r\n            <div className=\"flex flex-wrap items-center justify-center gap-2\">\r\n              {/* Previous Button */}\r\n              {currentPage > 1 && (\r\n                <a\r\n                  href={`?page=${currentPage - 1}`}\r\n                  className=\"inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100\"\r\n                >\r\n                  <span className=\"hidden sm:inline\">← Sebelumnya</span>\r\n                </a>\r\n              )}\r\n\r\n              {/* Page Numbers */}\r\n              {[...Array(totalPages)].map((_, i) => {\r\n                const page = i + 1;\r\n                const isActive = page === currentPage;\r\n\r\n                return (\r\n                  <a\r\n                    key={page}\r\n                    href={`?page=${page}`}\r\n                    className={`px-4 py-2 text-sm font-medium rounded-md ${\r\n                      isActive\r\n                        ? \"bg-red-900 text-white border border-red-900\"\r\n                        : \"bg-white text-gray-700 border border-gray-300 hover:bg-gray-100\"\r\n                    }`}\r\n                  >\r\n                    {page}\r\n                  </a>\r\n                );\r\n              })}\r\n\r\n              {/* Next Button */}\r\n              {currentPage < totalPages && (\r\n                <a\r\n                  href={`?page=${currentPage + 1}`}\r\n                  className=\"inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100\"\r\n                >\r\n                  <span className=\"hidden sm:inline\">Selanjutnya →</span>\r\n                </a>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AAAA;AACA;AACA;;;;;;AAEe,eAAe,SAAS,EACrC,YAAY,EAGb;IACC,IAAI,aAAoB,EAAE;IAC1B,IAAI,QAAuB;IAE3B,IAAI;QACF,aAAa,MAAM,CAAA,GAAA,yHAAA,CAAA,sBAAmB,AAAD;IACvC,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,QAAQ;IACV;IAEA,IAAI,OAAO;QACT,qBACE,8OAAC;YAAK,WAAU;;8BACd,8OAAC,8HAAA,CAAA,UAAM;;;;;8BACP,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAE,WAAW,GAAG,mLAAA,CAAA,WAAQ,CAAC,SAAS,CAAC,0BAA0B,CAAC;0CAC5D;;;;;;0CAEH,8OAAC;0CACC,cAAA,8OAAC;oCACC,MAAK;oCACL,SAAS,IAAM,OAAO,QAAQ,CAAC,MAAM;oCACrC,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAQb;IAEA,MAAM,cAAc,SAAS,aAAa,IAAI,KAAe;IAC7D,MAAM,eAAe;IACrB,MAAM,aAAa,WAAW,MAAM;IACpC,MAAM,aAAa,KAAK,IAAI,CAAC,aAAa;IAE1C,MAAM,sBAAsB,WAAW,KAAK,CAC1C,CAAC,cAAc,CAAC,IAAI,cACpB,cAAc;IAGhB,qBACE,8OAAC;QAAK,WAAU;;0BACd,8OAAC,8HAAA,CAAA,UAAM;;;;;0BAEP,8OAAC;gBAAQ,WAAU;;kCACjB,8OAAC;wBACC,WAAW,GAAG,iLAAA,CAAA,UAAO,CAAC,SAAS,CAAC,8FAA8F,CAAC;kCAChI;;;;;;kCAID,8OAAC;wBACC,WAAW,GAAG,mLAAA,CAAA,WAAQ,CAAC,SAAS,CAAC,yEAAyE,CAAC;kCAC5G;;;;;;oBAKA,oBAAoB,MAAM,KAAK,kBAC9B,8OAAC;wBAAE,WAAW,GAAG,mLAAA,CAAA,WAAQ,CAAC,SAAS,CAAC,0BAA0B,CAAC;kCAAE;;;;;6CAIjE,8OAAC,8IAAA,CAAA,UAAU;wBAAC,YAAY;;;;;;oBAKzB,aAAa,mBACZ,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;oCAA6B;oCAC9B;kDACZ,8OAAC;wCAAK,WAAU;kDACb,CAAC,cAAc,CAAC,IAAI,eAAe;;;;;;oCAC9B;oCAAI;oCACL;kDACP,8OAAC;wCAAK,WAAU;kDACb,KAAK,GAAG,CAAC,cAAc,cAAc;;;;;;oCAChC;oCAAI;kDACP,8OAAC;wCAAK,WAAU;kDAAiB;;;;;;oCAAkB;;;;;;;0CAG1D,8OAAC;gCAAI,WAAU;;oCAEZ,cAAc,mBACb,8OAAC;wCACC,MAAM,CAAC,MAAM,EAAE,cAAc,GAAG;wCAChC,WAAU;kDAEV,cAAA,8OAAC;4CAAK,WAAU;sDAAmB;;;;;;;;;;;oCAKtC;2CAAI,MAAM;qCAAY,CAAC,GAAG,CAAC,CAAC,GAAG;wCAC9B,MAAM,OAAO,IAAI;wCACjB,MAAM,WAAW,SAAS;wCAE1B,qBACE,8OAAC;4CAEC,MAAM,CAAC,MAAM,EAAE,MAAM;4CACrB,WAAW,CAAC,yCAAyC,EACnD,WACI,gDACA,mEACJ;sDAED;2CARI;;;;;oCAWX;oCAGC,cAAc,4BACb,8OAAC;wCACC,MAAM,CAAC,MAAM,EAAE,cAAc,GAAG;wCAChC,WAAU;kDAEV,cAAA,8OAAC;4CAAK,WAAU;sDAAmB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASrD","debugId":null}}]
}