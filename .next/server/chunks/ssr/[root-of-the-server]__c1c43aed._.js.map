{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///root/CODING/tubes-siweb/src/app/lib/actions.ts"],"sourcesContent":["'use client';\n\nimport { revalidatePath } from 'next/cache';\nimport { redirect } from 'next/navigation';\nimport postgres from 'postgres';\nimport { z } from 'zod';\n\nconst sql = postgres(process.env.POSTGRES_URL!, { ssl: 'require' });\n\nconst MenuSchema = z.object({\n  id: z.string(),\n  nama_produk: z.string(),\n  harga_produk: z.number(),\n});\n\nconst TransaksiSchema = z.object({\n  id: z.string(),\n  id_produk: z.string(),\n  nama_pembeli: z.string(),\n  total_harga: z.number(),\n  tanggal_transaksi: z.string(),\n  quantity: z.number().optional(),\n});\n\nconst CreateMenu = MenuSchema.omit({ id: true });\nconst UpdateMenu = MenuSchema.omit({ id: true });\n\n// MENU FUNCTIONS\nexport async function createMenu(formData: FormData) {\n  try {\n    const { nama_produk, harga_produk } = CreateMenu.parse({\n      nama_produk: formData.get('nama_produk'),\n      harga_produk: Number(formData.get('harga_produk')),\n    });\n\n    await sql`\n      INSERT INTO produk (nama_produk, harga_produk)\n      VALUES (${nama_produk}, ${harga_produk})\n    `;\n\n    revalidatePath('/admin/dashboard/menu');\n    redirect('/admin/dashboard/menu');\n  } catch (error) {\n    console.error(\"Gagal membuat menu:\", error);\n  }\n}\n\nexport async function updateMenu(id: string, formData: FormData) {\n  try {\n    if (!id || typeof id !== 'string') {\n      throw new Error('ID produk tidak valid');\n    }\n\n    const { nama_produk, harga_produk } = UpdateMenu.parse({\n      nama_produk: formData.get('nama_produk'),\n      harga_produk: Number(formData.get('harga_produk')),\n    });\n\n    await sql`\n      UPDATE produk\n      SET nama_produk = ${nama_produk}, harga_produk = ${harga_produk}\n      WHERE id_produk = ${id}\n    `;\n\n    revalidatePath('/admin/dashboard/menu');\n    redirect('/admin/dashboard/menu');\n  } catch (error) {\n    console.error(\"Gagal memperbarui menu:\", error);\n  }\n}\n\nexport async function deleteMenu(id: string) {\n  try {\n    if (!id || typeof id !== 'string') {\n      throw new Error('ID produk tidak valid');\n    }\n\n    await sql`DELETE FROM produk WHERE id_produk = ${id}`;\n    revalidatePath('/admin/dashboard/menu');\n  } catch (error) {\n    console.error(\"Gagal menghapus menu:\", error);\n  }\n}\n\nexport async function getProductById(id: number) {\n  try {\n    const result = await sql`\n      SELECT id_produk, nama_produk, harga_produk \n      FROM produk \n      WHERE id_produk = ${id}\n    `;\n\n    if (result.length === 0) {\n      return null;\n    }\n\n    return {\n      id_produk: result[0].id_produk,\n      nama_produk: result[0].nama_produk,\n      harga_produk: Number(result[0].harga_produk)\n    };\n  } catch (error) {\n    console.error(\"Gagal mendapatkan produk:\", error);\n  }\n}\n\nexport async function getAllProducts() {\n  try {\n    const result = await sql`\n      SELECT id_produk, nama_produk, harga_produk \n      FROM produk \n      ORDER BY nama_produk ASC\n    `;\n\n    return result.map(row => ({\n      id_produk: row.id_produk,\n      nama_produk: row.nama_produk,\n      harga_produk: Number(row.harga_produk)\n    }));\n  } catch (error) {\n    console.error(\"Gagal mendapatkan semua produk:\", error);\n  }\n}\n\nexport async function createTransaksi(formData: FormData) {\n  try {\n    const id_produk = formData.get('id_produk');\n    const nama_pembeli = formData.get('nama_pembeli');\n    const total_harga = Number(formData.get('total_harga'));\n    const quantity = Number(formData.get('quantity')) || 1;\n    const tanggal_transaksi = formData.get('tanggal_transaksi') || new Date().toISOString().split('T')[0];\n\n    const CreateTransaksiWithQuantity = z.object({\n      id_produk: z.string(),\n      nama_pembeli: z.string(),\n      total_harga: z.number(),\n      quantity: z.number().min(1),\n      tanggal_transaksi: z.string(),\n    });\n\n    const validatedData = CreateTransaksiWithQuantity.parse({\n      id_produk,\n      nama_pembeli,\n      total_harga,\n      quantity,\n      tanggal_transaksi,\n    });\n\n    await sql`\n      INSERT INTO transaksi (id_produk, nama_pembeli, total_harga, tanggal_transaksi, quantity)\n      VALUES (${validatedData.id_produk}, ${validatedData.nama_pembeli}, ${validatedData.total_harga}, ${validatedData.tanggal_transaksi}, ${validatedData.quantity})\n    `;\n\n    revalidatePath('/admin/dashboard/transaksi');\n    redirect('/admin/dashboard/transaksi');\n  } catch (error) {\n  console.error(\"Gagal membuat transaksi:\", error);\n}\n}\n\nexport async function deleteTransaksi(id: string) {\n  try {\n    if (!id || typeof id !== 'string') {\n      throw new Error('ID transaksi tidak valid');\n    }\n\n    await sql`DELETE FROM transaksi WHERE id_transaksi = ${id}`;\n    revalidatePath('/admin/dashboard/transaksi');\n  } catch (error) {\n    console.error(\"Gagal menghapus transaksi:\", error);\n  }\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 242, "column": 0}, "map": {"version":3,"sources":["file:///root/CODING/tubes-siweb/src/app/ui/button.tsx"],"sourcesContent":["import clsx from 'clsx';\n\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  children: React.ReactNode;\n}\n\nexport function Button({ children, className, ...rest }: ButtonProps) {\n  return (\n    <button\n      {...rest}\n      className={clsx(\n        'flex h-10 items-center rounded-lg bg-red-800 px-4 text-sm font-medium text-white transition-colors hover:bg-red-700  focus-visible:outline-offset-2 focus-visible:outline-red-800 active:bg-red-700 aria-disabled:cursor-not-allowed aria-disabled:opacity-50',\n        className,\n      )}\n    >\n      {children}\n    </button>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;;;AAMO,SAAS,OAAO,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,MAAmB;IAClE,qBACE,8OAAC;QACE,GAAG,IAAI;QACR,WAAW,CAAA,GAAA,qIAAA,CAAA,UAAI,AAAD,EACZ,iQACA;kBAGD;;;;;;AAGP","debugId":null}},
    {"offset": {"line": 266, "column": 0}, "map": {"version":3,"sources":["file:///root/CODING/tubes-siweb/src/app/ui/menu/createform.tsx"],"sourcesContent":["'use client';\n\nimport Link from 'next/link';\nimport { PlusIcon, TagIcon } from '@heroicons/react/24/outline';\nimport { createMenu } from '@/app/lib/actions';\nimport { Button } from '@/app/ui/button';\nimport { alegreya } from '@/app/ui/fonts';\n\n\nexport default function MenuForm() {\n  return (\n    <form action={createMenu} className={alegreya.className}>\n      <div className=\"rounded-md bg-gray-50 p-4 md:p-6\">\n        {/* Nama Produk */}\n        <div className=\"mb-4\">\n          <label htmlFor=\"nama_produk\" className=\"mb-2 block text-xl font-medium\">\n            Nama Produk\n          </label>\n          <div className=\"relative\">\n            <input\n              id=\"nama_produk\"\n              name=\"nama_produk\"\n              type=\"text\"\n              required\n              placeholder=\"Masukkan nama produk\"\n              className=\"peer block w-full rounded-md border border-gray-200 py-2 pl-10 text-base outline-2 placeholder:text-gray-500\"\n            />\n            <TagIcon className=\"pointer-events-none absolute left-3 top-1/2 h-[18px] w-[18px] -translate-y-1/2 text-gray-500\" />\n          </div>\n        </div>\n\n        {/* Harga Produk */}\n        <div className=\"mb-4\">\n          <label htmlFor=\"harga_produk\" className=\"mb-2 block text-xl font-medium\">\n            Harga Produk\n          </label>\n          <div className=\"relative\">\n            <input\n              id=\"harga_produk\"\n              name=\"harga_produk\"\n              type=\"number\"\n              step=\"0.01\"\n              required\n              placeholder=\"Contoh: 12000\"\n              className=\"peer block w-full rounded-md border border-gray-200 py-2 pl-10 text-base outline-2 placeholder:text-gray-500\"\n            />\n            <PlusIcon className=\"pointer-events-none absolute left-3 top-1/2 h-[18px] w-[18px] -translate-y-1/2 text-gray-500\" />\n          </div>\n        </div>\n      </div>\n\n      {/* Tombol Aksi */}\n      <div className={`${alegreya.className} mt-6 flex justify-end gap-4`}>\n        <Link\n          href=\"/admin/dashboard/menu\"\n          className=\"flex h-10 items-center rounded-lg bg-gray-100 px-4 text-lg font-medium text-gray-600 transition-colors hover:bg-gray-200\"\n        >\n          Batal\n        </Link>\n        <Button type=\"submit\">Simpan Produk</Button>\n      </div>\n    </form>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AACA;AACA;AACA;AAAA;AANA;;;;;;;AASe,SAAS;IACtB,qBACE,8OAAC;QAAK,QAAQ,4HAAA,CAAA,aAAU;QAAE,WAAW,mLAAA,CAAA,WAAQ,CAAC,SAAS;;0BACrD,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAM,SAAQ;gCAAc,WAAU;0CAAiC;;;;;;0CAGxE,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCACC,IAAG;wCACH,MAAK;wCACL,MAAK;wCACL,QAAQ;wCACR,aAAY;wCACZ,WAAU;;;;;;kDAEZ,8OAAC,6MAAA,CAAA,UAAO;wCAAC,WAAU;;;;;;;;;;;;;;;;;;kCAKvB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAM,SAAQ;gCAAe,WAAU;0CAAiC;;;;;;0CAGzE,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCACC,IAAG;wCACH,MAAK;wCACL,MAAK;wCACL,MAAK;wCACL,QAAQ;wCACR,aAAY;wCACZ,WAAU;;;;;;kDAEZ,8OAAC,+MAAA,CAAA,WAAQ;wCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;0BAM1B,8OAAC;gBAAI,WAAW,GAAG,mLAAA,CAAA,WAAQ,CAAC,SAAS,CAAC,4BAA4B,CAAC;;kCACjE,8OAAC,4JAAA,CAAA,UAAI;wBACH,MAAK;wBACL,WAAU;kCACX;;;;;;kCAGD,8OAAC,2HAAA,CAAA,SAAM;wBAAC,MAAK;kCAAS;;;;;;;;;;;;;;;;;;AAI9B","debugId":null}}]
}