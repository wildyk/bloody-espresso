{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 164, "column": 0}, "map": {"version":3,"sources":["file:///root/CODING/tubes-siweb/src/app/api/checkout/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\nimport { sql } from \"@vercel/postgres\";\n\nexport async function POST(req: Request) {\n  try {\n    const body = await req.json();\n    const { total_price, items } = body;\n\n    // Validasi input\n    if (!total_price || !items || !Array.isArray(items) || items.length === 0) {\n      return NextResponse.json(\n        { error: \"Data transaksi tidak lengkap!\" },\n        { status: 400 }\n      );\n    }\n\n    await sql`\n      INSERT INTO transactions (total_price, items)\n      VALUES (${total_price}, ${JSON.stringify(items)})\n    `;\n\n    return NextResponse.json({ message: \"Transaksi berhasil disimpan!\" });\n  } catch (error: any) {\n    console.error(\"Error saat menyimpan transaksi:\", error.message);\n    return NextResponse.json(\n      { error: \"Gagal menyimpan transaksi.\" },\n      { status: 500 }\n    );\n  }\n}\n\nexport async function GET() {\n  try {\n    const { rows } = await sql`\n      SELECT id, total_price, items, created_at \n      FROM transactions \n      ORDER BY created_at DESC\n    `;\n    return NextResponse.json(rows);\n  } catch (error: any) {\n    console.error(\"Error saat mengambil data:\", error.message);\n    return NextResponse.json(\n      { error: \"Gagal mengambil data.\" },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;;;AAEO,eAAe,KAAK,GAAY;IACrC,IAAI;QACF,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,MAAM,EAAE,WAAW,EAAE,KAAK,EAAE,GAAG;QAE/B,iBAAiB;QACjB,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,MAAM,OAAO,CAAC,UAAU,MAAM,MAAM,KAAK,GAAG;YACzE,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAgC,GACzC;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,mLAAA,CAAA,MAAG,CAAC;;cAEA,EAAE,YAAY,EAAE,EAAE,KAAK,SAAS,CAAC,OAAO;IAClD,CAAC;QAED,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAA+B;IACrE,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC,mCAAmC,MAAM,OAAO;QAC9D,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAA6B,GACtC;YAAE,QAAQ;QAAI;IAElB;AACF;AAEO,eAAe;IACpB,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,mLAAA,CAAA,MAAG,CAAC;;;;IAI3B,CAAC;QACD,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC,8BAA8B,MAAM,OAAO;QACzD,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAwB,GACjC;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}